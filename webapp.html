<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>The Cleanup Challenge</title>
  <script src="//maps.google.com/maps/api/js?key=AIzaSyD6SDGJ-GMXxfQr-avDhmNq7BEIEOXilkQ&sensor=false&libraries=drawing"
  type="text/javascript"></script>

  <script type="text/javascript">
    function toggleMe(a){
      var e=document.getElementById(a);
      if(!e)return true;
      if(e.style.display=="none"){
        e.style.display="block"
      }else{
        e.style.display="none"
      }
      return true;
    }

    function takePicture(){
      alert("Picture taken");
    }

    function repLaunch(){
      toggleMe('frontPage');
      //toggleMe('map');
      // toggleMe('cameraPage');
      toggleMe('cameraPage');
      toggleMe('cameraPage');

    //   var usrTXT = document.getElementById("usernameTXT");
    //
    //   const userAction = async () => {
    //     console.log('i am doing something');
    //     const response = await fetch('https://172.20.10.6:8000/api/v1/wastes/users/', {
    //       method: 'POST',
    //       body: { username: usrTXT.value }, // string or object
    //       headers: {
    //         'Content-Type': 'application/json',
    //         'Access-Control-Allow-Origin': '*',
    //         'Access-Control-Allow-Methods': 'POST'
    //       }
    //     });
    //     console.log('i am doing something');
    //     const myJson = await response.text(); //extract JSON from the http response
    //     console.log(myJson)
    //     // do something with myJson
    //   };
    //
    //   userAction()
    };

    function cleanLaunch(){
      toggleMe('frontPage');
      toggleMe('cameraButton');

    };

    // function cleanLaunch(){
    //
    // };

  </script>
  <link rel="stylesheet" href="./styles/style.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
</head>


<body>
  <div id="container">
    <div id="frontPage">
      <div id="carbon">
        <b>275 Kg</b>
        <br>
        <span style="font-size: 0.75em;">
          of CO<sub><font size="4em"><b>2</b></font></sub>
        </span>
        <!-- ------Username------ -->
        <div id="username_panel">
          Username: <input type="text" id="usernameTXT"/>
          <br>
          <button id="reporterBTN" onClick="repLaunch();">reporter</button>
          <button id="cleanerBTN" onClick="cleanLaunch();">cleaner</button>
          <!--<div id="confirmerBTN" onClick="send();"></div>-->
        </div>
      </div>
      <div id="startButton" onClick="toggleMe('frontPage');"></div>
    </div>
    <div id="mapPage">
      <div id="cameraButton" onClick="toggleMe('cameraPage');"></div>
      <div id="map"></div>
    </div>
    <!-- ------Camera------ -->
    <div id="cameraPage">
      <div id="cameraButton" onClick="takePicture();"></div>
      <div id="backButton" onClick="toggleMe('cameraPage');"></div>
      <video id="camera" autoplay muted playsinline alt="Please enable the camera access."></video> 
    </div>
  </div>

  <br><br><br><br>
  <p>
    Who do you want to be: 
    <input type="button" onclick="return toggleMe('reporterSection')" value="Reporter">
    <input type="button" onclick="return toggleMe('cleanerSection')" value="Cleaner">
  </p>

  <div class="select">
   <label for="videoSource">Video source: </label><select id="videoSource"></select>
 </div>

<script src="./js/map.js" type="text/javascript"></script>


<p id="test"></p>
<script src="js/main.js"></script>

<script>
	
//	document.write(getStream());
//	document.getElementById("test").innerHTML = "This is the end of the TEST section";
</script>


<p id="reporterSection">


</p>


<p id="cleanerSection">

</p>

</body>
</html>

